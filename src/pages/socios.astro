---
import Tab from "../components/tab.astro";
import Layout from "../layouts/Layout.astro";
import Tabs from "../layouts/Tabs.astro";
import TabsContent from "../layouts/TabsContent.astro";
import Grafico from "../components/Grafico";

import dataAnilloExpoAcumulado from "../data/plots/anillo_socios_expo_acumulado.json";
import dataSunburstImpoAcumulado from "../data/plots/sunburst_socios_impo_acumulado.json";
import dataAnilloExpoMes from "../data/plots/anillo_socios_expo_mensual.json";
import dataSunburstImpoMes from "../data/plots/sunburst_socios_impo_mensual.json";
---

<Layout title="Socios comerciales" mainHeader="Principales socios comerciales">
  <section class="w-full" mb-4>
    <Tabs id="tabsSocios">
      <Tab contentRef="mensual" defaultTab={true}>Ãšltimo mes</Tab>
      <Tab contentRef="acumulado">Acumulado</Tab>
    </Tabs>
    <TabsContent tabsId="tabsSocios">
      <div id="mensual">
        <div class="grid grid-rows-2 md:grid-rows-1 md:grid-cols-2">
          <div>
            <h3 class="font-semibold text-lg">
              {dataAnilloExpoMes.title}
            </h3>
            <Grafico
              plotData={dataAnilloExpoMes.plot}
              divClassName={"w-[300px] h-[300px] mx-auto"}
              client:only="react"
            />
          </div>
          <div>
            <h3 class="font-semibold text-lg">
              {dataSunburstImpoMes.title}
            </h3>
            <Grafico
              divClassName={"w-[300px] h-[300px] mx-auto"}
              plotData={dataSunburstImpoMes.plot}
              client:only="react"
            />
          </div>
        </div>
      </div>
      <div id="acumulado" class="hidden w-full">
        <div class="grid grid-rows-2 md:grid-rows-1 md:grid-cols-2">
          <div>
            <h3 class="font-semibold text-lg">
              {dataAnilloExpoAcumulado.title}
            </h3>
            <Grafico
              divClassName={"w-[300px] h-[300px] mx-auto md:w-full"}
              plotData={dataAnilloExpoAcumulado.plot}
              client:only="react"
            />
          </div>
          <div>
            <h3 class="font-semibold text-lg">
              {dataSunburstImpoAcumulado.title}
            </h3>
            <Grafico
              divClassName={"w-[300px] h-[300px] mx-auto md:w-full"}
              plotData={dataSunburstImpoAcumulado.plot}
              client:only="react"
            />
          </div>
        </div>
      </div>
    </TabsContent>
  </section>
</Layout>
